# Array.prototype.findLast/findLastIndex
```js
// åŸºæœ¬ç”¨æ³•
constÂ arr = [1,Â 2,Â 3,Â 4,Â 5];
arr.findLast(xÂ =>Â x %Â 2Â ===Â 0);Â // 4
arr.findLastIndex(xÂ =>Â x %Â 2Â ===Â 0);Â // 3

// å®é™…åº”ç”¨ï¼šæŸ¥æ‰¾æœ€åä¸€ä¸ªåŒ¹é…é¡¹
constÂ logs = [
Â  {Â id:Â 1,Â status:Â 'success'Â },
Â  {Â id:Â 2,Â status:Â 'error'Â },
Â  {Â id:Â 3,Â status:Â 'success'Â }
];
constÂ lastSuccess = logs.findLast(logÂ =>Â log.statusÂ ===Â 'success');
```

# Array.prototype.toSorted / toReversed / toSpliced
```js
constÂ original = [3,Â 1,Â 4,Â 1,Â 5];

// ä¸å¯å˜æ’åº
constÂ sorted = original.toSorted();
console.log(original);Â // [3, 1, 4, 1, 5] (æœªæ”¹å˜)
console.log(sorted); Â Â // [1, 1, 3, 4, 5]

// è‡ªå®šä¹‰æ’åº
constÂ people = [
Â  {Â name:Â 'Alice',Â age:Â 30Â },
Â  {Â name:Â 'Bob',Â age:Â 25Â },
Â  {Â name:Â 'Charlie',Â age:Â 35Â }
];
constÂ sortedByAge = people.toSorted((a, b) =>Â a.ageÂ - b.age);

// ä¸å¯å˜åè½¬
constÂ reversed = original.toReversed();
console.log(reversed);Â // [5, 1, 4, 1, 3]

// ä¸å¯å˜æ‹¼æ¥
constÂ spliced = original.toSpliced(1,Â 2,Â 'a',Â 'b');
console.log(spliced);Â // [3, 'a', 'b', 1, 5]

// ç»„åˆä½¿ç”¨
constÂ data = [10,Â 5,Â 8,Â 3,Â 1];
constÂ processed = data
Â  .toSorted((a, b) =>Â b - a) Â // é™åºæ’åº
Â  .toSpliced(0,Â 2) Â  Â  Â  Â  Â  Â // ç§»é™¤å‰ä¸¤ä¸ªå…ƒç´ 
Â  .toReversed(); Â  Â  Â  Â  Â  Â  Â // åè½¬
console.log(processed);Â // [3, 8]
console.log(data); Â  Â  Â // [10, 5, 8, 3, 1] (åŸæ•°ç»„æœªå˜)

// å®é™…åº”ç”¨ï¼šçŠ¶æ€ç®¡ç†
classÂ TodoListÂ {
Â Â constructor(items = []) {
Â  Â Â this.itemsÂ = items;
Â  }
Â Â 
Â Â addItem(item) {
Â  Â Â returnÂ newÂ TodoList(this.items.toSpliced(this.items.length,Â 0, item));
Â  }
Â Â 
Â Â removeItem(index) {
Â  Â Â returnÂ newÂ TodoList(this.items.toSpliced(index,Â 1));
Â  }
Â Â 
Â Â sortByPriority() {
Â  Â Â returnÂ newÂ TodoList(this.items.toSorted((a, b) =>Â a.priorityÂ - b.priority));
Â  }
Â Â 
Â Â reverse() {
Â  Â Â returnÂ newÂ TodoList(this.items.toReversed());
Â  }
}

// ä½¿ç”¨ç¤ºä¾‹
constÂ todos =Â newÂ TodoList([
Â  {Â id:Â 1,Â text:Â 'Learn JavaScript',Â priority:Â 2Â },
Â  {Â id:Â 2,Â text:Â 'Build app',Â priority:Â 1Â },
Â  {Â id:Â 3,Â text:Â 'Deploy',Â priority:Â 3Â }
]);

constÂ sortedTodos = todos.sortByPriority();
constÂ reversedTodos = sortedTodos.reverse();
```

# WeakMap å’Œ WeakSet æ”¯æŒSymbolé”®
```js
// åŸºæœ¬ç”¨æ³•
constÂ weakMap =Â newÂ WeakMap();
constÂ symbol =Â Symbol('key');
weakMap.set(symbol,Â 'value');

// å®é™…åº”ç”¨ï¼šç§æœ‰æ•°æ®å­˜å‚¨
constÂ privateData =Â newÂ WeakMap();
classÂ MyClassÂ {
Â Â constructor() {
Â  Â  privateData.set(this, {
Â  Â  Â Â secret:Â 'value'
Â  Â  });
Â  }
Â Â 
Â Â getSecret() {
Â  Â Â returnÂ privateData.get(this).secret;
Â  }
}
```

# ArrayBufferå’ŒSharedArrayBufferå¢å¼º
```js
// å¯è°ƒæ•´å¤§å°çš„ ArrayBuffer
constÂ buffer =Â newÂ ArrayBuffer(8, {Â maxByteLength:Â 16Â });
console.log(buffer.resizable);Â // true
console.log(buffer.maxByteLength);Â // 16

// è°ƒæ•´å¤§å°
buffer.resize(12);
console.log(buffer.byteLength);Â // 12

// ä¼ è¾“ ArrayBuffer
constÂ newBuffer = buffer.transfer(20);
console.log(newBuffer.byteLength);Â // 20
console.log(buffer.detached);Â // true

// SharedArrayBuffer ä¹Ÿæ”¯æŒç±»ä¼¼åŠŸèƒ½
constÂ sharedBuffer =Â newÂ SharedArrayBuffer(8, {Â maxByteLength:Â 16Â });
sharedBuffer.grow(12);Â // åªèƒ½å¢é•¿ï¼Œä¸èƒ½ç¼©å°
```

# Promise.withResolvers()
```js
// åŸºæœ¬ç”¨æ³•
constÂ { promise, resolve, reject } =Â Promise.withResolvers();

// å¼‚æ­¥æ“ä½œ
setTimeout(() =>Â {
Â Â resolve('Success!');
},Â 1000);

// å®é™…åº”ç”¨ï¼šåˆ›å»ºå¯æ§åˆ¶çš„ Promise
classÂ AsyncQueueÂ {
Â Â constructor() {
Â  Â Â this.queueÂ = [];
Â  Â Â this.processingÂ =Â false;
Â  }
Â Â 
Â Â add(task) {
Â  Â Â constÂ { promise, resolve, reject } =Â Promise.withResolvers();
Â  Â Â this.queue.push({ task, resolve, reject });
Â  Â Â this.process();
Â  Â Â returnÂ promise;
Â  }
Â Â 
Â Â asyncÂ process() {
Â  Â Â ifÂ (this.processing)Â return;
Â  Â Â this.processingÂ =Â true;
Â  Â Â 
Â  Â Â whileÂ (this.queue.lengthÂ >Â 0) {
Â  Â  Â Â constÂ { task, resolve, reject } =Â this.queue.shift();
Â  Â  Â Â tryÂ {
Â  Â  Â  Â Â constÂ result =Â awaitÂ task();
Â  Â  Â  Â Â resolve(result);
Â  Â  Â  }Â catchÂ (error) {
Â  Â  Â  Â Â reject(error);
Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â Â this.processingÂ =Â false;
Â  }
}
```

# Object.groupBy()å’Œ Map.gourpBy()
```js
// Object.groupBy
constÂ users = [
Â  {Â name:Â 'Alice',Â age:Â 25,Â department:Â 'Engineering'Â },
Â  {Â name:Â 'Bob',Â age:Â 30,Â department:Â 'Marketing'Â },
Â  {Â name:Â 'Charlie',Â age:Â 35,Â department:Â 'Engineering'Â }
];

constÂ byDepartment =Â Object.groupBy(users,Â userÂ =>Â user.department);
// {
// Â  Engineering: [{ name: 'Alice', ... }, { name: 'Charlie', ... }],
// Â  Marketing: [{ name: 'Bob', ... }]
// }

// Map.groupBy
constÂ ageGroups =Â Map.groupBy(users,Â userÂ =>Â {
Â Â ifÂ (user.ageÂ <Â 30)Â returnÂ 'young';
Â Â ifÂ (user.ageÂ <Â 40)Â returnÂ 'middle';
Â Â returnÂ 'senior';
});
// Map {
// Â  'young' => [{ name: 'Alice', ... }],
// Â  'middle' => [{ name: 'Bob', ... }, { name: 'Charlie', ... }]
// }

// å®é™…åº”ç”¨ï¼šæ•°æ®åˆ†æ
functionÂ analyzeData(data) {
Â Â constÂ statusGroups =Â Object.groupBy(data,Â itemÂ =>Â item.status);
Â Â constÂ summary =Â Object.entries(statusGroups).map(([status, items]) =>Â ({
Â  Â  status,
Â  Â Â count: items.length,
Â  Â Â total: items.reduce((sum, item) =>Â sum + item.value,Â 0)
Â  }));
Â Â returnÂ summary;
}
```

# RegExp væ ‡å¿—
```js
// åŸºæœ¬ç”¨æ³•
constÂ regex =Â /[\p{Script=Latin}&&[^\p{ASCII}]]/v;
console.log(regex.test('cafÃ©'));Â // true

// é›†åˆæ“ä½œ
constÂ emojiRegex =Â /[\p{Emoji}--\p{ASCII}]/v;
console.log(emojiRegex.test('ğŸ˜€'));Â // true
console.log(emojiRegex.test('A'));Â // false

// å­—ç¬¦ä¸²å­—é¢é‡
constÂ stringSetRegex =Â /["hello"|"world"]/v;
console.log(stringSetRegex.test('hello'));Â // true

// å®é™…åº”ç”¨ï¼šå¤æ‚å­—ç¬¦åŒ¹é…
functionÂ validateUsername(username) {
Â Â // å…è®¸å­—æ¯ã€æ•°å­—ï¼Œä½†æ’é™¤æŸäº›ç‰¹æ®Šå­—ç¬¦
Â Â constÂ validChars =Â /^[\p{L}\p{N}--[\p{Emoji}\p{Symbol}]]+$/v;
Â Â returnÂ validChars.test(username);
}
```

# Atomics.waitAsync()
```js
// åŸºæœ¬ç”¨æ³•
constÂ sharedBuffer =Â newÂ SharedArrayBuffer(4);
constÂ view =Â newÂ Int32Array(sharedBuffer);

// å¼‚æ­¥ç­‰å¾…
constÂ result =Â Atomics.waitAsync(view,Â 0,Â 0);
ifÂ (result.async) {
Â  result.value.then(() =>Â {
Â  Â Â console.log('Value changed!');
Â  });
}

// åœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­
Atomics.store(view,Â 0,Â 1);
Atomics.notify(view,Â 0,Â 1);

// å®é™…åº”ç”¨ï¼šå¤šçº¿ç¨‹åè°ƒ
classÂ SharedCounterÂ {
Â Â constructor() {
Â  Â Â this.bufferÂ =Â newÂ SharedArrayBuffer(4);
Â  Â Â this.viewÂ =Â newÂ Int32Array(this.buffer);
Â  }
Â Â 
Â Â asyncÂ waitForValue(expectedValue) {
Â  Â Â constÂ result =Â Atomics.waitAsync(this.view,Â 0, expectedValue);
Â  Â Â ifÂ (result.async) {
Â  Â  Â Â awaitÂ result.value;
Â  Â  }
Â  Â Â returnÂ Atomics.load(this.view,Â 0);
Â  }
Â Â 
Â Â increment() {
Â  Â Â Atomics.add(this.view,Â 0,Â 1);
Â  Â Â Atomics.notify(this.view,Â 0,Â 1);
Â  }
}
```

# String.prototype.isWellFormed() å’Œ toWellFormed()
```js
// æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ ¼å¼è‰¯å¥½
constÂ wellFormed =Â 'Hello ğŸ‘‹';
constÂ malformed =Â 'Hello \uD83D';Â // å­¤ç«‹çš„é«˜ä»£ç†é¡¹

console.log(wellFormed.isWellFormed());Â // true
console.log(malformed.isWellFormed());Â // false

// ä¿®å¤æ ¼å¼é”™è¯¯çš„å­—ç¬¦ä¸²
console.log(malformed.toWellFormed());Â // 'Hello ï¿½'

// å®é™…åº”ç”¨ï¼šå®‰å…¨çš„å­—ç¬¦ä¸²å¤„ç†
functionÂ safeStringOperation(str) {
Â Â ifÂ (!str.isWellFormed()) {
Â  Â Â console.warn('String contains malformed Unicode, fixing...');
Â  Â  str = str.toWellFormed();
Â  }
Â Â returnÂ str.toUpperCase();
}

// ç”¨äº API å“åº”å¤„ç†
functionÂ processApiResponse(response) {
Â Â ifÂ (typeofÂ response ===Â 'string'Â && !response.isWellFormed()) {
Â  Â  response = response.toWellFormed();
Â  }
Â Â returnÂ JSON.parse(response);
}
```

# Iterator Helpers
```js
// åŸºæœ¬ç”¨æ³•
function*Â numbers() {
Â Â yieldÂ 1;
Â Â yieldÂ 2;
Â Â yieldÂ 3;
Â Â yieldÂ 4;
Â Â yieldÂ 5;
}

// é“¾å¼è°ƒç”¨
constÂ result =Â numbers()
Â  .filter(xÂ =>Â x %Â 2Â ===Â 0)
Â  .map(xÂ =>Â x *Â 2)
Â  .take(2)
Â  .toArray();
console.log(result);Â // [4, 8]

// æ›´å¤šæ–¹æ³•
constÂ iterator =Â numbers();
iterator.drop(2).next().value;Â // 3
iterator.forEach(xÂ =>Â console.log(x));
iterator.some(xÂ =>Â x >Â 3);Â // true
iterator.every(xÂ =>Â x >Â 0);Â // true
iterator.find(xÂ =>Â x >Â 2);Â // 3
iterator.reduce((acc, x) =>Â acc + x,Â 0);Â // 15

// å®é™…åº”ç”¨ï¼šæ•°æ®æµå¤„ç†
function*Â fetchData() {
Â Â forÂ (letÂ i =Â 1; i <=Â 100; i++) {
Â  Â Â yieldÂ fetch(`/api/data/${i}`).then(rÂ =>Â r.json());
Â  }
}

// å¤„ç†å‰10ä¸ªæœ‰æ•ˆæ•°æ®
constÂ validData =Â fetchData()
Â  .filter(asyncÂ data => (awaitÂ data).valid)
Â  .take(10)
Â  .toArray();
```

# Setæ–¹æ³•æ‰©å±•
```js
// åŸºæœ¬é›†åˆæ“ä½œ
constÂ setA =Â newÂ Set([1,Â 2,Â 3,Â 4]);
constÂ setB =Â newÂ Set([3,Â 4,Â 5,Â 6]);

// å¹¶é›†
constÂ union = setA.union(setB);
console.log([...union]);Â // [1, 2, 3, 4, 5, 6]

// äº¤é›†
constÂ intersection = setA.intersection(setB);
console.log([...intersection]);Â // [3, 4]

// å·®é›†
constÂ difference = setA.difference(setB);
console.log([...difference]);Â // [1, 2]

// å¯¹ç§°å·®é›†
constÂ symmetricDifference = setA.symmetricDifference(setB);
console.log([...symmetricDifference]);Â // [1, 2, 5, 6]

// å­é›†æ£€æŸ¥
console.log(newÂ Set([1,Â 2]).isSubsetOf(setA));Â // true
console.log(setA.isSupersetOf(newÂ Set([1,Â 2])));Â // true
console.log(setA.isDisjointFrom(newÂ Set([7,Â 8])));Â // true

// å®é™…åº”ç”¨ï¼šæƒé™ç®¡ç†
classÂ PermissionManagerÂ {
Â Â constructor() {
Â  Â Â this.userPermissionsÂ =Â newÂ Map();
Â  Â Â this.rolePermissionsÂ =Â newÂ Map();
Â  }
Â Â 
Â Â getUserEffectivePermissions(userId) {
Â  Â Â constÂ userPerms =Â this.userPermissions.get(userId) ||Â newÂ Set();
Â  Â Â constÂ rolePerms =Â this.getUserRolePermissions(userId);
Â  Â Â returnÂ userPerms.union(rolePerms);
Â  }
Â Â 
Â Â hasConflictingPermissions(userId, requiredPerms) {
Â  Â Â constÂ effectivePerms =Â this.getUserEffectivePermissions(userId);
Â  Â Â returnÂ !requiredPerms.isSubsetOf(effectivePerms);
Â  }
}
```

# Promise.try()
```js
// åŸºæœ¬ç”¨æ³•
constÂ result =Â awaitÂ Promise.try(() =>Â {
Â Â // å¯èƒ½æ˜¯åŒæ­¥æˆ–å¼‚æ­¥çš„å‡½æ•°
Â Â returnÂ Math.random() >Â 0.5Â ?Â 'sync'Â :Â Promise.resolve('async');
});

// é”™è¯¯å¤„ç†
constÂ safeResult =Â awaitÂ Promise.try(() =>Â {
Â Â ifÂ (Math.random() >Â 0.5) {
Â  Â Â throwÂ newÂ Error('Something went wrong');
Â  }
Â Â returnÂ 'success';
}).catch(errorÂ =>Â {
Â Â console.error('Caught error:', error.message);
Â Â returnÂ 'fallback';
});

// å®é™…åº”ç”¨ï¼šç»Ÿä¸€å¼‚æ­¥å¤„ç†
classÂ DataProcessorÂ {
Â Â asyncÂ processData(processor, data) {
Â  Â Â returnÂ Promise.try(() =>Â processor(data))
Â  Â  Â  .then(resultÂ =>Â this.validateResult(result))
Â  Â  Â  .catch(errorÂ =>Â this.handleError(error));
Â  }
Â Â 
Â Â validateResult(result) {
Â  Â Â ifÂ (!result ||Â typeofÂ result !==Â 'object') {
Â  Â  Â Â throwÂ newÂ Error('Invalid result format');
Â  Â  }
Â  Â Â returnÂ result;
Â  }
Â Â 
Â Â handleError(error) {
Â  Â Â console.error('Processing failed:', error);
Â  Â Â returnÂ {Â error: error.message,Â success:Â falseÂ };
Â  }
}
```

# RegExp.escape()
å®‰å…¨çš„è½¬ä¹‰å­—ç¬¦ä¸²ç”¨äºæ­£åˆ™è¡¨è¾¾å¼
```js
// åŸºæœ¬ç”¨æ³•
constÂ userInput =Â 'Hello (world) [test]';
constÂ escaped =Â RegExp.escape(userInput);
console.log(escaped);Â // 'Hello \\(world\\) \\[test\\]'

// åˆ›å»ºå®‰å…¨çš„æ­£åˆ™è¡¨è¾¾å¼
constÂ regex =Â newÂ RegExp(RegExp.escape(userInput));
console.log(regex.test('Hello (world) [test]'));Â // true

// å®é™…åº”ç”¨ï¼šæœç´¢åŠŸèƒ½
classÂ SearchEngineÂ {
Â Â search(text, query) {
Â  Â Â constÂ escapedQuery =Â RegExp.escape(query);
Â  Â Â constÂ regex =Â newÂ RegExp(escapedQuery,Â 'gi');
Â  Â Â returnÂ text.match(regex) || [];
Â  }
Â Â 
Â Â highlight(text, query) {
Â  Â Â constÂ escapedQuery =Â RegExp.escape(query);
Â  Â Â constÂ regex =Â newÂ RegExp(`(${escapedQuery})`,Â 'gi');
Â  Â Â returnÂ text.replace(regex,Â '<mark>$1</mark>');
Â  }
Â Â 
Â Â fuzzySearch(text, query) {
Â  Â Â constÂ escapedQuery =Â RegExp.escape(query);
Â  Â Â constÂ fuzzyPattern = escapedQuery.split('').join('.*?');
Â  Â Â constÂ regex =Â newÂ RegExp(fuzzyPattern,Â 'i');
Â  Â Â returnÂ regex.test(text);
Â  }
}
```

# Float16Array 
```js
// åˆ›å»º Float16Array
constÂ float16Array =Â newÂ Float16Array(4);
float16Array[0] =Â 1.5;
float16Array[1] =Â 2.25;
float16Array[2] =Â 3.75;
float16Array[3] =Â 4.125;

console.log(float16Array);Â // Float16Array [1.5, 2.25, 3.75, 4.125]

// Math.f16round æ–¹æ³•
constÂ rounded =Â Math.f16round(1.23456789);
console.log(rounded);Â // 1.234375 (åŠç²¾åº¦ç²¾åº¦)

// DataView æ”¯æŒ
constÂ buffer =Â newÂ ArrayBuffer(8);
constÂ view =Â newÂ DataView(buffer);
view.setFloat16(0,Â 1.5);
view.setFloat16(2,Â 2.5);
console.log(view.getFloat16(0));Â // 1.5
console.log(view.getFloat16(2));Â // 2.5

// å®é™…åº”ç”¨ï¼šå›¾å½¢å¤„ç†
classÂ ImageProcessorÂ {
Â Â constructor(width, height) {
Â  Â Â this.widthÂ = width;
Â  Â Â this.heightÂ = height;
Â  Â Â // ä½¿ç”¨åŠç²¾åº¦æµ®ç‚¹æ•°èŠ‚çœå†…å­˜
Â  Â Â this.pixelsÂ =Â newÂ Float16Array(width * height *Â 4);Â // RGBA
Â  }
Â Â 
Â Â setPixel(x, y, r, g, b, a =Â 1.0) {
Â  Â Â constÂ index = (y *Â this.widthÂ + x) *Â 4;
Â  Â Â this.pixels[index] =Â Math.f16round(r);
Â  Â Â this.pixels[index +Â 1] =Â Math.f16round(g);
Â  Â Â this.pixels[index +Â 2] =Â Math.f16round(b);
Â  Â Â this.pixels[index +Â 3] =Â Math.f16round(a);
Â  }
Â Â 
Â Â getPixel(x, y) {
Â  Â Â constÂ index = (y *Â this.widthÂ + x) *Â 4;
Â  Â Â returnÂ {
Â  Â  Â Â r:Â this.pixels[index],
Â  Â  Â Â g:Â this.pixels[index +Â 1],
Â  Â  Â Â b:Â this.pixels[index +Â 2],
Â  Â  Â Â a:Â this.pixels[index +Â 3]
Â  Â  };
Â  }
}
```

# JSON æ¨¡å—å¯¼å…¥
```js
// å¯¼å…¥ JSON æ–‡ä»¶
importÂ configÂ fromÂ './config.json'Â withÂ {Â type:Â 'json'Â };
importÂ dataÂ fromÂ './data.json'Â withÂ {Â type:Â 'json'Â };

// ä½¿ç”¨å¯¼å…¥çš„æ•°æ®
console.log(config.apiUrl);
console.log(data.users);

// åŠ¨æ€å¯¼å…¥
constÂ settings =Â awaitÂ import('./settings.json', {
Â Â with: {Â type:Â 'json'Â }
});

// å®é™…åº”ç”¨ï¼šé…ç½®ç®¡ç†
classÂ ConfigManagerÂ {
Â Â asyncÂ loadConfig(environment) {
Â  Â Â constÂ configPath =Â `./config/${environment}.json`;
Â  Â Â constÂ config =Â awaitÂ import(configPath, {
Â  Â  Â Â with: {Â type:Â 'json'Â }
Â  Â  });
Â  Â Â returnÂ config.default;
Â  }
Â Â 
Â Â asyncÂ loadLocalization(locale) {
Â  Â Â constÂ localizationPath =Â `./i18n/${locale}.json`;
Â  Â Â tryÂ {
Â  Â  Â Â constÂ messages =Â awaitÂ import(localizationPath, {
Â  Â  Â  Â Â with: {Â type:Â 'json'Â }
Â  Â  Â  });
Â  Â  Â Â returnÂ messages.default;
Â  Â  }Â catchÂ (error) {
Â  Â  Â Â // å›é€€åˆ°é»˜è®¤è¯­è¨€
Â  Â  Â Â constÂ fallback =Â awaitÂ import('./i18n/en.json', {
Â  Â  Â  Â Â with: {Â type:Â 'json'Â }
Â  Â  Â  });
Â  Â  Â Â returnÂ fallback.default;
Â  Â  }
Â  }
}
```

# æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦
æ”¯æŒåœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¯ç”¨å’Œç¦ç”¨ä¿®é¥°ç¬¦
```js
// å†…è”ä¿®é¥°ç¬¦
constÂ regex1 =Â /(?i)hello/;Â // ç­‰ä»·äº /hello/i
constÂ regex2 =Â /(?-i:WORLD)/i;Â // åœ¨å¤§å°å†™ä¸æ•æ„Ÿæ¨¡å¼ä¸­ï¼ŒWORLD éƒ¨åˆ†å¤§å°å†™æ•æ„Ÿ

// ç»„åˆä½¿ç”¨
constÂ regex3 =Â /(?i)hello(?-i: WORLD)/;
console.log(regex3.test('Hello WORLD'));Â // true
console.log(regex3.test('Hello world'));Â // false

// å¤šè¡Œæ¨¡å¼åˆ‡æ¢
constÂ regex4 =Â /^(?m)start.*?(?-m)end$/;

// å®é™…åº”ç”¨ï¼šå¤æ‚æ–‡æœ¬è§£æ
classÂ TextParserÂ {
Â Â parseDocument(text) {
Â  Â Â // æ ‡é¢˜ï¼šå¤§å°å†™ä¸æ•æ„Ÿ
Â  Â Â // å†…å®¹ï¼šå¤§å°å†™æ•æ„Ÿ
Â  Â Â constÂ headerRegex =Â /(?i)^#\s+(.+)$(?-i)/gm;
Â  Â Â constÂ headers = [...text.matchAll(headerRegex)];
Â  Â Â 
Â  Â Â returnÂ headers.map(matchÂ =>Â ({
Â  Â  Â Â title: match[1],
Â  Â  Â Â level: match[0].indexOf('#') +Â 1
Â  Â  }));
Â  }
Â Â 
Â Â extractCodeBlocks(text) {
Â  Â Â // åœ¨å¤šè¡Œæ¨¡å¼ä¸­åŒ¹é…ä»£ç å—
Â  Â Â constÂ codeRegex =Â /(?s)```(?i)(\w+)?(?-i)\n(.*?)\n```/g;
Â  Â Â constÂ blocks = [...text.matchAll(codeRegex)];
Â  Â Â 
Â  Â Â returnÂ blocks.map(matchÂ =>Â ({
Â  Â  Â Â language: match[1] ||Â 'text',
Â  Â  Â Â code: match[2]
Â  Â  }));
Â  }
}
```